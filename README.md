# COBOL Antlr ast parser in Typescript
This project implements a Cobol ANTLR parser in TypeScript, designed to analyze COBOL programs.

## Structure of the AST tree that is generated
The Abstract Syntax Tree (AST) generated by the parser is structured to represent the hierarchical nature of COBOL programs. The tree consists of nodes that correspond to various COBOL constructs, such as programs, sections, paragraphs, and statements. Each node contains information about its type, name, source code and relationships to other nodes.

The structure of the AST tree produced by the parser is as follows:
```json
{
  "program": {
    "name": "PROGRAM-NAME",
    "dataDivision": {
      "workingStorage": [
        {
          "name": "VARIABLE-NAME",
          "type": "VARIABLE-TYPE",
          "initialValue": "INITIAL-VALUE"
        }
      ],
      "fileSection": [
        {
          "name": "FILE-NAME",
          "structure": "FILE-STRUCTURE"
        }
      ],
      "linkageSection": [
        {
          "name": "PARAMETER-NAME",
          "type": "PARAMETER-TYPE"
        }
      ]
    },
    "procedureDivision": {
      "sections": [
        {
          "name": "SECTION-NAME",
          "sourceCode": "SOURCE CODE OF THE SECTION",
          "paragraphs": [
            {
              "name": "PARAGRAPH-NAME",
              "sourceCode": "SOURCE CODE OF THE PARAGRAPH",
              "calledSectionsParagraphs": [
                {
                  "name": "NAME-OF-SECTION-OR-PARAGRAPH-CALLED-VIA-PERFORM"
                }
              ]
            }
          ],
          "calledSectionsParagraphs": [
            {
              "name": "NAME-OF-SECTION-OR-PARAGRAPH-CALLED-VIA-PERFORM"
            }
          ]
        }
      ],
      "paragraphs": [
        {
          "name": "PARAGRAPH-NAME",
          "sourceCode": "SOURCE CODE OF THE PARAGRAPH",
          "calledSectionsParagraphs": [
            {
              "name": "NAME-OF-SECTION-OR-PARAGRAPH-CALLED-VIA-PERFORM"
            }
          ]
        }
      ],
    }
  }
}
```

## Typescript ANTLR library
The parser should use the antlr4ts library, which is a TypeScript port of the ANTLR parser generator.


## Grammars and generated ANTLR files
The necessary parser and lexer classes have been already generated using the Cobol 85 grammars. The generated code is in the "src/generated" folder.

## Manage COPY statements
The parser must be able to handle `COPY` statements, which are used to include external COBOL code files (copybooks) into the main program. It has to be able to resolve the `COPY` statements and include the content of the copybooks in the AST tree. The parser should also handle nested `COPY` statements. The ANTLR generated preprocessor should be able to resolve the `COPY` statements and include the content of the copybooks in the AST tree.

